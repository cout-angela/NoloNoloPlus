<!DOCTYPE html>
<html class="h-100">

<head>
  <title>back office</title>
  <!--GOOGLE FONT-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--BOOTSTRAP STUFF-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!--PAGE CSS-->
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="nolostrap/nolostrap.css">
  <!--FONT AWESOME-->
  <script src="https://kit.fontawesome.com/45760c15eb.js" crossorigin="anonymous"></script>
  <!--JQUERY-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!--JAVASCRIPT-->
  <script src="/clientUtil/betterMod.js"></script>
  <script src="/errHandler.js"></script>
  <script src="index.js"></script>
</head>

<body class="nolonoloBackground d-flex flex-column h-100 justify-content-between">

  <div id="pageContainer" class="container-fluid p-0 nolonoloFullWidth" style="height: 100%;">


    <!--NAVBAR-->
    <nav class="navbar sticky-top navbar-dark nolonoloFullWidth nolonoloBackgroundNavSecond p-2">
      <div class="col-1">
        <!--NAVBAR LOGO-->
        <a class="navbar-brand nolonoloNavLogo" href="#">
          <img src="logo.png" alt="nolonoloplus logo" class="p-0">
        </a>

      </div>
      <div class="col d-flex flex-column">

        <!--SEARCH BAR -->
        <div class="nolonoloBackgroundNavSecond container-fluid justify-content-center">
          <form class="d-flex mb-2 mt-2 nolonoloFullWidth">
            <input id="searchInput" class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
              onkeyup="search()">
            <button id="searchBtn" class="btn btn-outline-warning disabled" onclick="search()">Search</button>
          </form>
        </div>

        <!--TAB BAR -->
        <nav class=" nolonoloBackgroundNavSecond nolonoloFullWidth" style="max-width: 100%">
          <div class="nav nav-tabs justify-content-center pt-2 m-0 nolonoloBackgroundNavSecond nolonoloFullWidth"
            id="nav-tab" role="tablist">
            <button class="nolonoloYellowText nav-link active disabled" id="nav-store-tab" data-bs-toggle="tab"
              data-bs-target="#nav-store" type="button" role="tab" aria-controls="nav-store"
              aria-selected="true">Store</button>
            <button class="nolonoloYellowText nav-link disabled" id="nav-clients-tab" data-bs-toggle="tab"
              data-bs-target="#nav-clients" type="button" role="tab" aria-controls="nav-clients"
              aria-selected="false">Clients</button>
            <button class="nolonoloYellowText nav-link disabled" id="nav-rentals-tab" data-bs-toggle="tab"
              data-bs-target="#nav-rentals" type="button" role="tab" aria-controls="nav-rentals"
              aria-selected="false">Rentals</button>
            <button class="nolonoloYellowText nav-link" id="nav-profile-tab" data-bs-toggle="tab"
              data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
              aria-selected="false">Profile</button>
          </div>
        </nav>
      </div>
      <div class="col-1">
        <p class="nolonoloYellowText nolonoloBoldText m-0" id="employeeGreeting"></p>

      </div>

    </nav>

    <!-----------------------------PAGE CONTENT BIGGEST CONTAINER------------------------------------->

    <div id="pageContent" class="container-fluid nolonoloFullWidth m-0 p-0">


      <div class="tab-content" id="nav-tabContent">
        <!--STORE TAB CONTENT-->
        <div class="tab-pane fade show active" style="overflow-y: auto;" id="nav-store" role="tabpanel"
          aria-labelledby="nav-store-tab">
          <div class="row p-3 nolonoloFullWidth">
            <div class="col d-flex justify-content-between" id="navStoreButtons">
              <button id="goBack" class="btn" style="width: 10%;" onclick="page.goBack()">
                <i class="fas fa-chevron-left nolonoloYellowText" style="font-size: 20px;"></i>
              </button>
              <button id="storeFilterButton" class="navbar-toggler btn nolonoloWhiteText nolonoloYellowBackground"
                type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar">
                <span class="material-icons-outlined nolonoloDarkText">filter_list</span>
              </button>
              <button id="addListing" class="btn nolonoloWhiteText nolonoloYellowBackground" onclick="addListing()">Add
                listing</button>
            </div>
          </div>
          <div id="storeContent">

            <div id="noListings" style="display: none; justify-content: center; align-items: center; height: 100%;">
              No Listings Created Yet
            </div>

            <!-- IL BELLISSIMO LISTING VIEWER -->
            <div id="listingContent" style="display: none;">
              <div class="col m-5">
                <div class="row">
                  <div id="carouselExampleIndicators" class="carousel carousel-dark slide" data-bs-ride="carousel">
                    <div id="carouselBtns" class="carousel-indicators">
                      <!-- ${carousel.carouselBtn} -->
                    </div>
                    <div id="carouselImgs" class="carousel-inner">
                      <!-- ${carousel.carousellInner} -->
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                      data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                      data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                </div>
                <div class="mb-3 row justify-content-center">
                  <div class="row d-flex justify-content-end">
                    <label for="listing-available-products" class="nolonoloBoldText">Available products</label>
                  </div>
                  <div class="container">
                    <ul class="list-group list-group-horizontal" id="products-ul" style="flex-wrap: wrap;">

                    </ul>

                  </div>
                </div>
              </div>
              <div class="col m-5">

                <div id="listingInfo">
                  <div class="mb-3 row justify-content-center">

                    <h3 id="listing-title" style="text-align: center;">METTI TITOLO</h3>
                  </div>
                  <div class="mb-3 row justify-content-center">
                    <div class="col-4 d-flex justify-content-end">
                      <label for="listing-description" class="nolonoloBoldText">Description</label>
                    </div>
                    <div class="col-4">
                      <p id="listing-description" style="font-weight: bold;">Descrizione</p>
                    </div>
                  </div>
                  <div class="mb-3 row justify-content-center">
                    <div class="col-4 d-flex justify-content-end">
                      <label for="listing-type" class="nolonoloBoldText">Type</label>
                    </div>
                    <div class="col-4">
                      <p id="listing-type" style="font-weight: bold;">tipo</p>
                    </div>
                  </div>
                  <div class="mb-3 row justify-content-center">
                    <div class="col-4 d-flex justify-content-end">
                      <label for="listing-brand" class="nolonoloBoldText">Brand</label>
                    </div>
                    <div class="col-4">
                      <p id="listing-brand" style="font-weight: bold;">brand</p>
                    </div>
                  </div>
                  <div class="mb-3 row justify-content-center">
                    <div class="col-4 d-flex justify-content-end">
                      <label for="listing-condition" class="nolonoloBoldText">Condition</label>
                    </div>
                    <div class="col-4">
                      <p id="listing-condition" style="font-weight: bold;">condizione</p>
                    </div>
                  </div>
                  <div class="row justify-content-center" id="listing-disabled-notice">
                    <p
                      style="text-align: center;border: 1px solid #ff9b42; border-radius: 4px; width: fit-content;font-weight: bold;">
                      This listing is disabled and <br>will not be shown to customers</p>
                  </div>
                  <div class="row justify-content-center" id="product-disabled-notice">
                    <p
                      style="text-align: center;border: 1px solid #ff9b42; border-radius: 4px; width: fit-content;font-weight: bold;">
                      This product is disabled and <br>will not be shown to customers</p>
                  </div>
                  <div class="row justify-content-center">
                    <p id="product-availability-legend"
                      style="text-align: center;border: 1px solid #ff9b42; border-radius: 4px; width: fit-content;font-weight: bold;">
                      Information such as unavailability and maintenance will<br>prevent the customer from selecting
                      those date ranges
                    </p>
                  </div>
                  <div class="mb-3 row justify-content-center">date picker</div>
                  <div class="mb-3 row justify-content-center">
                    <div class="col-4 d-flex justify-content-center" id="listing-form-buttons">
                      <button class="btn nolonoloBackgroundNavSecond nolonoloWhiteText nolonoloClearTextHovered"
                        id="modify-listing-btn" onclick="setModifyListingForms('${l._id}')">Edit Listing</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col m-5"
                style="height: 100%; border: 1px solid #2f4454; border-radius: 4px; background-color: #c3cdd4;">

                <div id="modifiersViewer" class="mb-3 justify-content-center"
                  style="max-height: 50vh; overflow-y: auto; overflow-x: hidden;">

                </div>
                <hr>
                <div class="mb-3 row justify-content-center">
                  <div class="col-4 d-flex justify-content-end">
                    <label for="price-total" class="nolonoloBoldText">Total:</label>
                  </div>
                  <div class="col-4">
                    <p id="price-total" style="font-weight: bold;">10</p>
                  </div>
                </div>
                <div class="mb-3 row justify-content-center">
                  <div class="col-4 d-flex justify-content-end">
                    <label for="fidelity-gained" class="nolonoloBoldText">Nolopoints awarded:</label>
                  </div>
                  <div class="col-4">
                    <p id="fidelity-gained" style="font-weight: bold;">10</p>
                  </div>
                </div>
                <div class="mb-3 row justify-content-center">
                  <div class="col-4 d-flex justify-content-center">
                    <button class="btn nolonoloBackgroundNavSecond nolonoloWhiteText nolonoloClearTextHovered"
                      id="rent-btn" onclick="rent('${l._id}')">Rent</button>
                  </div>
                </div>
              </div>
            </div>

            <div id="listingsList" style="display: none;">

              <ul class="list-group list-group-horizontal d-flex justify-content-center" style="flex-wrap: wrap;"
                id="listingsContainer">

              </ul>


              <nav aria-label="Page navigation example d-flex align-items-end">
                <ul class="pagination justify-content-center" id="listingsPages">

                  <li class="page-item">
                    <a class="page-link" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>



                  <li class="page-item">
                    <a class="page-link" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>

                </ul>
              </nav>
            </div>


          </div>
        </div>
        <!-- CLIENT TAB CONTENT -->
        <div class="tab-pane fade" id="nav-clients" role="tabpanel" aria-labelledby="nav-clients-tab">
          <ul class="list-group m-2" id="clientsList">

          </ul>
        </div>
        <!-- RENTALS TAB CONTENT-->
        <div class="tab-pane fade" id="nav-rentals" role="tabpanel" aria-labelledby="nav-rentals-tab">
          <div class="row nolonoloFullWidth m-0 p-0">
            <div class="col d-flex nolonoloFullWidth border-bottom border-2 p-3">
              <h2 class="nolonoloBoldText flex-grow-1" style="text-align: center;">My Rentals</h2>
              <button class="btn nolonoloWhiteText nolonoloYellowBackground ">New Rental</button>
            </div>
          </div>
          <div class="container nolonoloFullWidth pt-3" id="rentalContent">
            <div class="row justify-content-center">
              <div class="col" id="pendingRentals">
                <h4 class="nolonoloBoldText mb-3" style="text-align: center;">Pending Rentals</h4>
                <ul class="list-group" id="pendingRentalsList">

                </ul>
                <nav aria-label="Page navigation example d-flex align-items-end">
                  <ul class="pagination justify-content-center" id="pendingRPageBtns">

                    <li class="page-item">
                      <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>



                    <li class="page-item">
                      <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>

                  </ul>
                </nav>
              </div>
              <div class="verticalLine"></div>
              <div class="col" id="bookedRentals">
                <h4 class="nolonoloBoldText mb-3" style="text-align: center;">Booked Rentals</h4>
                <ul class="list-group" id="bookedRentalsList">

                </ul>
                <nav aria-label="Page navigation example d-flex align-items-end">
                  <ul class="pagination justify-content-center" id="bookedRPageBtns">

                    <li class="page-item">
                      <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>



                    <li class="page-item">
                      <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>

                  </ul>
                </nav>
              </div>
              <div class="verticalLine"></div>
              <div class="col" id="activeRentals">
                <h4 class="nolonoloBoldText mb-3" style="text-align: center;">Active Rentals</h4>
                <ul class="list-group" id="activeRentalsList">

                </ul>
                <nav aria-label="Page navigation example d-flex align-items-end">
                  <ul class="pagination justify-content-center" id="activeRPageBtns">

                    <li class="page-item">
                      <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>



                    <li class="page-item">
                      <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>

                  </ul>
                </nav>
              </div>
              <div class="verticalLine"></div>
              <div class="col" id="closedRentals">
                <h4 class="nolonoloBoldText mb-3" style="text-align: center;">Closed Rentals</h4>
                <ul class="list-group" id="closedRentalsList">

                </ul>
                <nav aria-label="Page navigation example d-flex align-items-end">
                  <ul class="pagination justify-content-center" id="closedRPageBtns">

                    <li class="page-item">
                      <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>



                    <li class="page-item">
                      <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>

                  </ul>
                </nav>
              </div>

            </div>


          </div>
        </div>
        <!--PROFILE TAB CONTENT-->
        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
          <div id="master-notLoggedForms">
            <div class="row nolonoloFullWidth mb-5 mt-3">
              <div class="col-12 d-flex justify-content-center">
                <h2>Welcome to the NoloNolo+ Back Office!</h2>
              </div>
              <div class="col-12 d-flex justify-content-center">
                <p> If you are already part of our team please log in, otherwise you can register using the form below</p>
              </div>
            </div>
            <div class="row nolonoloFullWidth ">
  
  
              <div class="col d-flex justify-content-center border-end border-2">
                <form id="regForm">
                  <div>
                    <label class="form-label" for="username">Choose a username</label>
                    <input class="form-control" type="text" id="username" name="username" required>
                  </div>
                  <div>
                    <label class="form-label" for="name">Your name</label>
                    <input class="form-control" type="text" id="name" name="name" required>
                  </div>
                  <div>
                    <label class="form-label" for="surname">Your surname</label>
                    <input class="form-control" type="text" id="surname" name="surname" required>
                  </div>
                  <div>
                    <label class="form-label" for="password">Password</label>
                    <input class="form-control" type="password" id="password" name="password" required>
                  </div>
                  <div class="mt-2">
                    <button class="btn btn-warning" type="button" onclick="page.register()">Register</button>
                  </div>
                </form>
              </div>
              <div class="col d-flex justify-content-center">
                <form id="logForm">
                  <div>
                    <label class="form-label" for="logUsername">Username</label>
                    <input class="form-control" type="text" id="logUsername" name="username" required>
                  </div>
                  <div>
                    <label class="form-label" for="logPassword">Password</label>
                    <input class="form-control" type="password" name="password" id="logPassword" required>
                  </div>
                  <div class="mt-2">
                    <button class="btn btn-warning" type="button" onclick="page.login()">Login</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>



      <!--OFFCANVAS FILTER-->
      <div class="offcanvas offcanvas-start nolonoloBackgroundNavSecond" tabindex="-1" id="offcanvasNavbar"
        aria-labelledby="offcanvasNavbarLabel">

        <div class="offcanvas-header nolonoloWhiteText">
          <h5 class="offcanvas-title nolonoloYellowText" id="offcanvasNavbarLabel">Filters</h5>
          <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close">
            <i class="fas fa-times nolonoloYellowText"></i>
          </button>
        </div>

        <div class="offcanvas-body">
          <form id="filterForm">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item" id="PriceRange">
                <label class="nolonoloYellowText" for="PriceRange">Price Range</label>
                <div class="input-group mb-3">
                  <span class="input-group-text">From</span>
                  <input type="number" class="form-control" aria-label="Min amount" name="minPrice" id="minPrice"
                    min="0" onchange="listingsObj.filtersObj.correctMinPrice(this)">
                  <span class="input-group-text">To</span>
                  <input type="number" class="form-control" aria-label="Max amount" name="maxPrice" id="maxPrice"
                    min="1" onchange="listingsObj.filtersObj.correctMaxPrice(this)">
                </div>
              </li>
              <li class="nav-item">
                <label class="nolonoloYellowText" for="typeSelect">Product type</label>
                <select class="form-select" aria-label="Default select example" id="typeSelect" name="filterType">
                  <option selected>any</option>
                  <option value="1">One</option>
                  <option value="2">Two</option>
                  <option value="3">Three</option>
                </select>
              </li>
              <li class="nav-item dropdown mb-3">
                <label class="nolonoloYellowText" for="brandSelect">Product brand</label>
                <select class="form-select" aria-label="Default select example" id="brandSelect" name="filterBrand">
                  <option selected>any</option>
                  <option value="1">One</option>
                  <option value="2">Two</option>
                  <option value="3">Three</option>
                </select>
              </li>
              <li class="nav-item mb-3">
                <label class="nolonoloYellowText me-3" for="filterAvail" >Available</label>
                <input type="checkbox" class="form-checkbox" aroa-label="Default checkbox example" id="filterAvail"
                  name="filterAvail" style="transform: scale(2); filter: invert();">
              </li>
            </ul>
            <button type="button" class="btn nolonoloWhiteText nolonoloYellowBackground mt-2"
              data-bs-dismiss="offcanvas" onclick="listingsObj.htmlFilter()">Filter</button>
          </form>
        </div>
      </div>

    </div>
    <!--END PAGE CONTENT BIGGEST CONTAINER-->

    <div id="loading"
      style="width: 100%; display: flex; justify-content: center; align-items: center; font-size: 5vw;">
      LOADING...
      <img src="/clientUtil/loadingCat.gif" alt="">
    </div>
  </div>

  <footer class="footer py-3 bg-dark nolonoloWhiteText">
    <div class="container p-4">
      <div class="row">
        <!--Grid column-->
        <div class="col">
          <h5>Want to join the Nolonolo plus family?</h5>
          
        </div>
        <!--Grid column-->
        
        <!--Grid column-->
        <div class="col">
          <h5>Already part of our family?</h5>
        </div>
      </div>
    </div>
    <a href="https://www.flaticon.com/free-stickers/money" title="money stickers">Money stickers created by Stickers - Flaticon</a>
    
  </footer>


  <!--BOOTSTRAP STUFF-->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
</body>

</html>